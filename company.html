<html>

<head>
    <meta charset="UTF-8">
    <title>Apple, Inc.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

        @media (prefers-color-scheme: light) {
            .system {
                --bg: #fff;
                --text: #000;
                --input-bg: #f1f1f1;
                --icon-filter: invert(0);
                --table-border: #999;
                --table-header-color: #888;
                --tick-color: black;
            }
        }

        @media (prefers-color-scheme: dark) {
            .system {
                --bg: #000;
                --text: #fff;
                --input-bg: #222;
                --icon-filter: invert(1);
                --table-border: #333;
                --table-header-color: #000;
                --tick-color: white;
            }
        }


        #whaleseyename{
            border: 0%;
            padding: 15px;
            margin: 0%;
            background-color: var(--bg);
            font-family: system-ui, sans-serif;
            margin-top: -1vh;
            margin-left: -1vh;
            margin-right: -1vh;
            font-size: 20px;
            width: 100%;
            top: 0;
            left: 10;
            z-index: 999;
            position: fixed;
            z-index: 1;
        }

        :root {
            --bg: #000;
            --text: #fff;
            --input-bg: #222;
            --icon-filter: invert(1); /* white icon */
            --table-border: #333;
            --table-header-color: #000;

        }

        .light {
            --bg: #fff;
            --text: #000;
            --input-bg: #f1f1f1;
            --icon-filter: invert(0); /* black icon */
            --table-border: #999;
            --table-header-color: #888;
        }

        

        .theme-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 999;
            position: fixed;
        }

        .theme-btn img {
            width: 26px;
            height: 26px;
            filter: var(--icon-filter);
            transition: filter 0.25s;
        }

        .theme-menu {
            font-family: system-ui, sans-serif;
            position: absolute;
            top: 55px;
            right: 20px;
            background: var(--input-bg);
            border-radius: 8px;
            padding: 10px 0;
            display: none;
            width: 140px;
            position: fixed;
        }

        .theme-menu div {
            padding: 10px 15px;
            cursor: pointer;
            color: var(--text);
        }

        .theme-menu div:hover {
            background: rgba(255,255,255,0.1);
        }

        /* Add this new block to the <style> section of both files */
        .theme-menu div {
            display: flex; /* CRITICAL: Enables flexible layout */
            justify-content: space-between; /* Pushes the name to the left and the check to the right */
            align-items: center;
            padding: 10px 15px;
            cursor: pointer;
            color: var(--text);
        }
        
        .mode-name {
            margin-right: 15px; 
        }
        
        .mode-check {
            width: 15px; /* Reserves space for the checkmark */
            text-align: right;
            color: var(--tick-color); /* Optional: Make the checkmark a distinct color */
            font-size: 1.1rem;
        }

        body{
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            max-width: 850px;
            margin:0 auto;
            padding: 10px;
            
        }
    
        #companyname{
            margin-top: 100px;
            margin-bottom: 20px;
            font-size: 34px;
            font-family: 'Source Serif 4', Georgia, "Times New Roman", serif;
        }

        #Overview{
            font-size: 16px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI",Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans","Helvetica Neue", sans-serif;
            gap: 2px;
            margin-top: 16px;
        }

        #tablecaption{
            margin-top: 50px;
            margin-bottom: 20px;
            font-size: 27px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI",
                Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans",
                "Helvetica Neue", sans-serif;
            gap: 2px;
        }

        table{
            margin-top: 10px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI",Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans","Helvetica Neue", sans-serif;
            font-size: 14px;
            background-color: var(--input-bg);
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
            padding: 0;
            width: 100%;
            
        }

        th{
            background-color: var(--table-header-color);
        }

        th,td{
            text-align: left;
            padding: 10px 10px;
            border-width: 100%;
            border: 1px solid var(--table-border);
            
        }

        #insightname{
            margin-top: 30px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI",Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans","Helvetica Neue", sans-serif;
        }

        #insight{
            font-size: 16px;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI",Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans","Helvetica Neue", sans-serif;
            margin-top: 1px;
        }

    @media (max-width:auto){
        table{
            width: 100%;
            font-size: 10px;
        }

        th,td{
            padding: 2px 4px;
            line-height: 1.1;
        }
    }




    </style>

</head>
<h1 id="whaleseyename">WhalesEyE</h1>
<body class="dark" id="body">

    <button class="theme-btn" id="themeBtn">
        <img id="themeIcon" src="https://img.icons8.com/ios-filled/50/moon-symbol.png">
    </button>

    <div class="theme-menu" id="themeMenu">
        <div data-mode="dark">
            <span class="mode-name">Dark</span>
            <span class="mode-check"></span> 
        </div>
        <div data-mode="light">
            <span class="mode-name">Light</span>
            <span class="mode-check"></span> 
        </div>
        <div data-mode="system">
            <span class="mode-name">System</span>
            <span class="mode-check"></span>
        </div>
    </div>
    
    <div id="companyname">Apple, Inc. ($AAPL)</div>
    <div id="Overview">Apple Inc. is an American multinational technology company 
        that designs, manufactures, and markets consumer electronics, 
        personal computers, software, and online services. Founded on 
        April 1, 1976, by Steve Jobs, Steve Wozniak, and Ronald Wayne 
        as Apple Computer Company in Cupertino, California, it was 
        formally incorporated on January 3, 
        1977. Headquartered at One Apple Park Way in Cupertino, 
        the firm has achieved a market capitalization of approximately 
        $3.85 trillion as of October 2025, making it among the world's 
        most valuable publicly traded companies.</div>

    <div id="Overview">Tim Cook has served as Chief Executive Officer of 
        Apple Inc. since August 24, 2011, succeeding co-founder Steve Jobs
         following Jobs's resignation due to health issues. Cook,
         previously Apple's COO since 2005, optimized the company's 
         supply chain and operations, contributing to its expansion 
         into consumer electronics dominance. Under his leadership, 
         Apple achieved a market capitalization exceeding $3 trillion by 
         2023 and emphasized 
        services revenue growth alongside hardware innovation.</div>

    <div id="tablecaption">Instritutal Holdings</div>

    <table>
        <tr>
            <th>Rank</th>
            <th>Shareholder Name</th>
            <th>Percentage</th>
        </tr>
        <tr>
            <td>1</td>
            <td>Vanguard Group, Inc.</td>
            <td>9.54%</td>
        </tr>
        <tr>
            <td>2</td>
            <td>BlackRock, Inc.</td>
            <td>7.70%</td>
        </tr>
        <tr>
            <td>3</td>
            <td>State Street Global Advisors, Inc.</td>
            <td>4.05%</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Geode Capital Management, LLC</td>
            <td>2.39%</td>
        </tr>
        <tr>
            <td>5</td>
            <td>Berkshire Hathaway, Inc.</td>
            <td>1.89%</td>
        </tr>
        <tr>
            <td>6</td>
            <td>FMR LLC</td>
            <td>1.83%</td>
        </tr>
        <tr>
            <td>7</td>
            <td>T.Rowe Price Group, Inc.</td>
            <td>1.42%</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Norges Bank Investment Management</td>
            <td>1,28%</td>
        </tr>
        <tr>
            <td>9</td>
            <td>UBS Asset Management AG</td>
            <td>1.18%</td>
        </tr>
        <tr>
            <td>10</td>
            <td>Northern Trust Global Investments</td>
            <td>1.12%</td>
        </tr>
        <tr>
            <td>11</td>
            <td>JP Morgan Asset Management</td>
            <td>1.00%</td>
        </tr>
        <tr>
            <td>12</td>
            <td>Morgan Stanley</td>
            <td>0.89%</td>
        </tr>
        <tr>
            <td>13</td>
            <td>Capital Research and Management Company</td>
            <td>0.79%</td>
        </tr>
        <tr>
            <td>14</td>
            <td>Legal & General Investment Management Limited</td>
            <td>0.73%</td>
        </tr>
        <tr>
            <td>15</td>
            <td>Charles Schwab Investment Management, Inc.</td>
            <td>0.68%</td>
        </tr>
        <tr>
            <td>16</td>
            <td>Eaton Vance Management</td>
            <td>0.66%</td>
        </tr>
        <tr>
            <td>17</td>
            <td>BNY Asset Management</td>
            <td>0.65%</td>
        </tr>
        <tr>
            <td>18</td>
            <td>Goldman Sachs Asset Management, L.P.</td>
            <td>0.54%</td>
        </tr>
        <tr>
            <td>19</td>
            <td>Wellington Management Group LLP</td>
            <td>0.52%</td>
        </tr>
        <tr>
            <td>20</td>
            <td>Teachers Insurance and Annuity Association (TIAA-CREF)</td>
            <td>0.48%</td>
        </tr>
    </table>

    <div id="insightname">Insight</div>
    <div id="insight"><p>Apple Inc. operates as a publicly traded corporation on the 
        Nasdaq Global Select Market under the ticker symbol AAPL, 
        with shares widely dispersed among institutional and retail 
        investors. Institutional ownership accounts for approximately 
        64.34% of outstanding shares, reflecting significant influence 
        from large asset managers but no single controlling entity. 
        The Vanguard Group holds the largest stake at about 9.54%, 
        followed by BlackRock at 5.87% and State Street Corporation at 
        around 4%. Insider ownership, including shares held by executives
         and directors such as Tim Cook and Arthur Levinson, is minimal 
         at roughly 0.06%, emphasizing the company's reliance on public 
         markets for capital and accountability. Berkshire Hathaway also 
         maintains a substantial position, valued at tens of billions, 
        though exact percentages fluctuate with market activity.</p></div>

    <script>
    /* Theme switching and Persistence Logic */
    const body = document.getElementById("body");
    const menu = document.getElementById("themeMenu");
    const themeBtn = document.getElementById("themeBtn");
    const themeIcon = document.getElementById("themeIcon");
    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');

    // Function to update the icon based on the *current* visual state (dark/light)
    function updateThemeIcon(isDark) {
        if (isDark) {
            themeIcon.src = "https://img.icons8.com/ios-filled/50/moon-symbol.png";
        } else {
            themeIcon.src = "https://img.icons8.com/ios-filled/50/sun--v1.png";
        }
    }

    // Function to update the theme menu indicators (NEW)
    // Function to update the theme menu indicators (UPDATED)
    function updateMenuIndicators(mode) {
        menu.querySelectorAll('div').forEach(div => {
            const checkSpan = div.querySelector('.mode-check');
            const currentMode = div.getAttribute('data-mode');
            
            if (currentMode === mode) {
                checkSpan.innerHTML = '&#x2713;'; 
            } else {
                checkSpan.innerHTML = '';
            }
        });
}

    // Function to set theme, save it to local storage, and update icon/indicators
    function setTheme(mode) {
        body.className = mode;
        localStorage.setItem('themePreference', mode);
        menu.style.display = "none";
        
        // Determine the actual visual state for the icon
        const isDark = mode === 'dark' || (mode === 'system' && mediaQuery.matches);
        updateThemeIcon(isDark);
        updateMenuIndicators(mode);
    }
    
    // Handler for system theme changes (CRITICAL FIX)
    function handleSystemChange(e) {
        // Only run if the current preference is 'system'
        if (localStorage.getItem('themePreference') === 'system') {
            updateThemeIcon(e.matches); // e.matches is true if dark mode is preferred
        }
    }

    // Attach the system change listener (CRITICAL FIX)
    mediaQuery.addEventListener('change', handleSystemChange);


    // Toggle menu visibility
    themeBtn.onclick = () => {
        menu.style.display = menu.style.display === "block" ? "none" : "block";
    };

    // Global function to initialize the theme on page load
    function initializeTheme() {
        const storedTheme = localStorage.getItem('themePreference');
        const defaultMode = storedTheme || 'system'; // System is the default
        
        // Ensure menu items have data-mode attribute for indicator logic (NEW SETUP)
        const menuItems = menu.querySelectorAll('div');
        menuItems[0].setAttribute('data-mode', 'dark');
        menuItems[1].setAttribute('data-mode', 'light');
        menuItems[2].setAttribute('data-mode', 'system');

        menuItems[0].onclick = () => setTheme('dark');
        menuItems[1].onclick = () => setTheme('light');
        menuItems[2].onclick = () => setTheme('system');

        setTheme(defaultMode); // Apply the theme and update icon/indicators
    }

    // Run the initialization function immediately on load
    initializeTheme();

    // ... existing theme-related functions (setTheme, initializeTheme, etc.)

// --- New Code for Click-Outside-To-Close ---
document.addEventListener('click', function(event) {
    const menu = document.getElementById("themeMenu");
    const themeBtn = document.getElementById("themeBtn");

    // Check if the menu is open
    if (menu.style.display === 'block') {
        // Check if the click target is NOT the menu itself AND NOT the button
        const isClickInsideMenu = menu.contains(event.target);
        const isClickOnButton = themeBtn.contains(event.target);

        if (!isClickInsideMenu && !isClickOnButton) {
            // Close the menu
            menu.style.display = 'none';
        }
    }
});
// ------------------------------------------

// ... other existing code like initializeTheme()
</script>
    

</body>
</html>
